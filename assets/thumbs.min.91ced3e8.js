import{i as A,$ as E,b as C}from"./navigation.min.c9bfc870.js";function B(y){let{swiper:e,extendParams:S,on:h}=y;S({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let v=!1,x=!1;e.thumbs={swiper:null};function I(){const i=e.thumbs.swiper;if(!i||i.destroyed)return;const t=i.clickedIndex,d=i.clickedSlide;if(d&&E(d).hasClass(e.params.thumbs.slideThumbActiveClass)||typeof t=="undefined"||t===null)return;let l;if(i.params.loop?l=parseInt(E(i.clickedSlide).attr("data-swiper-slide-index"),10):l=t,e.params.loop){let o=e.activeIndex;e.slides.eq(o).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,o=e.activeIndex);const r=e.slides.eq(o).prevAll(`[data-swiper-slide-index="${l}"]`).eq(0).index(),p=e.slides.eq(o).nextAll(`[data-swiper-slide-index="${l}"]`).eq(0).index();typeof r=="undefined"?l=p:typeof p=="undefined"?l=r:p-o<o-r?l=p:l=r}e.slideTo(l)}function w(){const{thumbs:i}=e.params;if(v)return!1;v=!0;const t=e.constructor;if(i.swiper instanceof t)e.thumbs.swiper=i.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(A(i.swiper)){const d=Object.assign({},i.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(d),x=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",I),!0}function u(i){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const d=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView,l=e.params.thumbs.autoScrollOffset,o=l&&!t.params.loop;if(e.realIndex!==t.realIndex||o){let a=t.activeIndex,n,b;if(t.params.loop){t.slides.eq(a).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,a=t.activeIndex);const s=t.slides.eq(a).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),c=t.slides.eq(a).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();typeof s=="undefined"?n=c:typeof c=="undefined"?n=s:c-a==a-s?n=t.params.slidesPerGroup>1?c:a:c-a<a-s?n=c:n=s,b=e.activeIndex>e.previousIndex?"next":"prev"}else n=e.realIndex,b=n>e.previousIndex?"next":"prev";o&&(n+=b==="next"?l:-1*l),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(n)<0&&(t.params.centeredSlides?n>a?n=n-Math.floor(d/2)+1:n=n+Math.floor(d/2)-1:n>a&&t.params.slidesPerGroup===1,t.slideTo(n,i?0:void 0))}let r=1;const p=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(r=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(r=1),r=Math.floor(r),t.slides.removeClass(p),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let a=0;a<r;a+=1)t.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+a}"]`).addClass(p);else for(let a=0;a<r;a+=1)t.slides.eq(e.realIndex+a).addClass(p)}h("beforeInit",()=>{const{thumbs:i}=e.params;!i||!i.swiper||(w(),u(!0))}),h("slideChange update resize observerUpdate",()=>{u()}),h("setTransition",(i,t)=>{const d=e.thumbs.swiper;!d||d.destroyed||d.setTransition(t)}),h("beforeDestroy",()=>{const i=e.thumbs.swiper;!i||i.destroyed||x&&i.destroy()}),Object.assign(e.thumbs,{init:w,update:u})}function O(y){let{swiper:e,extendParams:S,emit:h,once:v}=y;S({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function x(){const u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function I(){const{touchEventsData:u,touches:i}=e;u.velocities.length===0&&u.velocities.push({position:i[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:i[e.isHorizontal()?"currentX":"currentY"],time:C()})}function w(u){let{currentPos:i}=u;const{params:t,$wrapperEl:d,rtlTranslate:l,snapGrid:o,touchEventsData:r}=e,a=C()-r.touchStartTime;if(i<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(i>-e.maxTranslate()){e.slides.length<o.length?e.slideTo(o.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(r.velocities.length>1){const m=r.velocities.pop(),f=r.velocities.pop(),k=m.position-f.position,P=m.time-f.time;e.velocity=k/P,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(P>150||C()-m.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,r.velocities.length=0;let n=1e3*t.freeMode.momentumRatio;const b=e.velocity*n;let s=e.translate+b;l&&(s=-s);let c=!1,T;const M=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let g;if(s<e.maxTranslate())t.freeMode.momentumBounce?(s+e.maxTranslate()<-M&&(s=e.maxTranslate()-M),T=e.maxTranslate(),c=!0,r.allowMomentumBounce=!0):s=e.maxTranslate(),t.loop&&t.centeredSlides&&(g=!0);else if(s>e.minTranslate())t.freeMode.momentumBounce?(s-e.minTranslate()>M&&(s=e.minTranslate()+M),T=e.minTranslate(),c=!0,r.allowMomentumBounce=!0):s=e.minTranslate(),t.loop&&t.centeredSlides&&(g=!0);else if(t.freeMode.sticky){let m;for(let f=0;f<o.length;f+=1)if(o[f]>-s){m=f;break}Math.abs(o[m]-s)<Math.abs(o[m-1]-s)||e.swipeDirection==="next"?s=o[m]:s=o[m-1],s=-s}if(g&&v("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(l?n=Math.abs((-s-e.translate)/e.velocity):n=Math.abs((s-e.translate)/e.velocity),t.freeMode.sticky){const m=Math.abs((l?-s:s)-e.translate),f=e.slidesSizesGrid[e.activeIndex];m<f?n=t.speed:m<2*f?n=t.speed*1.5:n=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&c?(e.updateProgress(T),e.setTransition(n),e.setTranslate(s),e.transitionStart(!0,e.swipeDirection),e.animating=!0,d.transitionEnd(()=>{!e||e.destroyed||!r.allowMomentumBounce||(h("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(T),d.transitionEnd(()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(h("_freeModeNoMomentumRelease"),e.updateProgress(s),e.setTransition(n),e.setTranslate(s),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,d.transitionEnd(()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(s),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&h("_freeModeNoMomentumRelease");(!t.freeMode.momentum||a>=t.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:x,onTouchMove:I,onTouchEnd:w}})}export{B as T,O as f};
